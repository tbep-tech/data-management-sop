<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 5 Case Studies | Data Management SOP for the Tampa Bay Estuary Program</title>
  <meta name="description" content="This is a web page describing the TBEP data management SOP" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 5 Case Studies | Data Management SOP for the Tampa Bay Estuary Program" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a web page describing the TBEP data management SOP" />
  <meta name="github-repo" content="tbep-tech/data-management-sop" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 5 Case Studies | Data Management SOP for the Tampa Bay Estuary Program" />
  
  <meta name="twitter:description" content="This is a web page describing the TBEP data management SOP" />
  

<meta name="author" content="Marcus W. Beck, Gary E. Raulerson, Maya C. Burke, Joe Whalen, Sheila Scolaro, Ed T. Sherwood" />


<meta name="date" content="2021-03-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="workflow.html"/>
<link rel="next" href="final.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Management SOP</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#contrib"><i class="fa fa-check"></i><b>1.1</b> Contributing to this document</a><ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#opt1"><i class="fa fa-check"></i><b>1.1.1</b> Option 1</a></li>
<li class="chapter" data-level="1.1.2" data-path="index.html"><a href="index.html#opt2"><i class="fa fa-check"></i><b>1.1.2</b> Option 2</a></li>
<li class="chapter" data-level="1.1.3" data-path="index.html"><a href="index.html#opt3"><i class="fa fa-check"></i><b>1.1.3</b> Option 3</a></li>
<li class="chapter" data-level="1.1.4" data-path="index.html"><a href="index.html#opt4"><i class="fa fa-check"></i><b>1.1.4</b> Option 4</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#about"><i class="fa fa-check"></i><b>1.2</b> About</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="background.html"><a href="background.html"><i class="fa fa-check"></i><b>2</b> Background</a><ul>
<li class="chapter" data-level="2.1" data-path="background.html"><a href="background.html#dataimp"><i class="fa fa-check"></i><b>2.1</b> Importance of data</a></li>
<li class="chapter" data-level="2.2" data-path="background.html"><a href="background.html#whymanage"><i class="fa fa-check"></i><b>2.2</b> Why we need to effectively manage data</a></li>
<li class="chapter" data-level="2.3" data-path="background.html"><a href="background.html#opengeneral"><i class="fa fa-check"></i><b>2.3</b> Open Science</a></li>
<li class="chapter" data-level="2.4" data-path="background.html"><a href="background.html#philogeneral"><i class="fa fa-check"></i><b>2.4</b> The TBEP philosophy</a></li>
<li class="chapter" data-level="2.5" data-path="background.html"><a href="background.html#goals-and-objectives-of-this-document"><i class="fa fa-check"></i><b>2.5</b> Goals and objectives of this document</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="keys.html"><a href="keys.html"><i class="fa fa-check"></i><b>3</b> Key Concepts and Principles</a><ul>
<li class="chapter" data-level="3.1" data-path="keys.html"><a href="keys.html#contribs"><i class="fa fa-check"></i><b>3.1</b> Identifying important contributions</a></li>
<li class="chapter" data-level="3.2" data-path="keys.html"><a href="keys.html#fair"><i class="fa fa-check"></i><b>3.2</b> The FAIR principles</a></li>
<li class="chapter" data-level="3.3" data-path="keys.html"><a href="keys.html#whytidy"><i class="fa fa-check"></i><b>3.3</b> The importance of tidy data</a></li>
<li class="chapter" data-level="3.4" data-path="keys.html"><a href="keys.html#metadata"><i class="fa fa-check"></i><b>3.4</b> Metadata</a><ul>
<li class="chapter" data-level="3.4.1" data-path="keys.html"><a href="keys.html#metadata"><i class="fa fa-check"></i><b>3.4.1</b> Metadata examples</a></li>
<li class="chapter" data-level="3.4.2" data-path="keys.html"><a href="keys.html#eml"><i class="fa fa-check"></i><b>3.4.2</b> The EML standard</a></li>
<li class="chapter" data-level="3.4.3" data-path="keys.html"><a href="keys.html#dict"><i class="fa fa-check"></i><b>3.4.3</b> Data dictionaries</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="keys.html"><a href="keys.html#datahome"><i class="fa fa-check"></i><b>3.5</b> Where do data live?</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="workflow.html"><a href="workflow.html"><i class="fa fa-check"></i><b>4</b> Data Management Workflow</a><ul>
<li class="chapter" data-level="4.1" data-path="workflow.html"><a href="workflow.html#tbepapproach"><i class="fa fa-check"></i><b>4.1</b> The TBEP approach</a><ul>
<li class="chapter" data-level="4.1.1" data-path="workflow.html"><a href="workflow.html#philo"><i class="fa fa-check"></i><b>4.1.1</b> Our philosophy</a></li>
<li class="chapter" data-level="4.1.2" data-path="workflow.html"><a href="workflow.html#the-open-science-cake"><i class="fa fa-check"></i><b>4.1.2</b> The open science cake</a></li>
<li class="chapter" data-level="4.1.3" data-path="workflow.html"><a href="workflow.html#automation"><i class="fa fa-check"></i><b>4.1.3</b> How do we build the cake?</a></li>
<li class="chapter" data-level="4.1.4" data-path="workflow.html"><a href="workflow.html#moregit"><i class="fa fa-check"></i><b>4.1.4</b> More on Git and GitHub</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="workflow.html"><a href="workflow.html#howyou"><i class="fa fa-check"></i><b>4.2</b> How can you manage data?</a><ul>
<li class="chapter" data-level="4.2.1" data-path="workflow.html"><a href="workflow.html#beginning"><i class="fa fa-check"></i><b>4.2.1</b> I’m at the beginning of my project</a></li>
<li class="chapter" data-level="4.2.2" data-path="workflow.html"><a href="workflow.html#im-somewhere-in-the-middle-of-my-project"><i class="fa fa-check"></i><b>4.2.2</b> I’m somewhere in the middle of my project</a></li>
<li class="chapter" data-level="4.2.3" data-path="workflow.html"><a href="workflow.html#im-at-the-end-of-my-project"><i class="fa fa-check"></i><b>4.2.3</b> I’m at the end of my project</a></li>
<li class="chapter" data-level="4.2.4" data-path="workflow.html"><a href="workflow.html#metadata-workflow"><i class="fa fa-check"></i><b>4.2.4</b> Metadata workflow</a></li>
<li class="chapter" data-level="4.2.5" data-path="workflow.html"><a href="workflow.html#lets-get-it-online"><i class="fa fa-check"></i><b>4.2.5</b> Let’s get it online!</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="cases.html"><a href="cases.html"><i class="fa fa-check"></i><b>5</b> Case Studies</a><ul>
<li class="chapter" data-level="5.1" data-path="cases.html"><a href="cases.html#oyster"><i class="fa fa-check"></i><b>5.1</b> Oyster restoration in Tampa Bay</a></li>
<li class="chapter" data-level="5.2" data-path="cases.html"><a href="cases.html#desoto"><i class="fa fa-check"></i><b>5.2</b> DeSoto/RESTORE project</a></li>
<li class="chapter" data-level="5.3" data-path="cases.html"><a href="cases.html#twitter"><i class="fa fa-check"></i><b>5.3</b> Red Tide Twitter repo</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="final.html"><a href="final.html"><i class="fa fa-check"></i><b>6</b> Final Words</a></li>
<li class="chapter" data-level="7" data-path="appendices.html"><a href="appendices.html"><i class="fa fa-check"></i><b>7</b> Appendices</a><ul>
<li class="chapter" data-level="7.1" data-path="appendices.html"><a href="appendices.html#list-of-resources"><i class="fa fa-check"></i><b>7.1</b> List of resources</a></li>
<li class="chapter" data-level="7.2" data-path="appendices.html"><a href="appendices.html#data-types"><i class="fa fa-check"></i><b>7.2</b> Data types</a></li>
<li class="chapter" data-level="7.3" data-path="appendices.html"><a href="appendices.html#definitions"><i class="fa fa-check"></i><b>7.3</b> Definitions</a></li>
<li class="chapter" data-level="7.4" data-path="appendices.html"><a href="appendices.html#metadata-templates"><i class="fa fa-check"></i><b>7.4</b> Metadata templates</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Management SOP for the Tampa Bay Estuary Program</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cases" class="section level1">
<h1><span class="header-section-number">Section 5</span> Case Studies</h1>
<p>In this section we describe three case studies to demonstrate how data management workflows are developed in the wild. In section <a href="workflow.html#automation">4.1.3</a>, we presented a comprehensive workflow for how we developed our water quality report card. The examples in this section are similar by adopting elements of the previously described workflow, but with some important differences. The examples here represent data products resulting from TBEP and partner-funded research as opposed to a specific reporting product and, more importantly, all of the data management workflows for these projects were developed after the projects were started. This is a no-no for data management, but we provide these examples to demonstrate how we’ve applied the principles in this document to inopportune but realistic situations. Each example describes the general goals and questions of the project, then outlines the thought process to identifying and documenting important data products.</p>
<div id="oyster" class="section level2">
<h2><span class="header-section-number">5.1</span> Oyster restoration in Tampa Bay</h2>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-11"></span>
<img src="img/oysters.jpg" alt="Restoration of oyster reefs (*Crassostrea virginica*) is a critical management goal to support key habitats in Tampa Bay." width="50%" />
<p class="caption">
Figure 5.1: Restoration of oyster reefs (<em>Crassostrea virginica</em>) is a critical management goal to support key habitats in Tampa Bay.
</p>
</div>
<p>Establishment and restoration of oyster reefs in Tampa Bay is a critical programmatic goal defined under our <a href="https://indd.adobe.com/view/cf7b3c48-d2b2-4713-921c-c2a0d4466632">Comprehensive Conservation and Management Plan</a> <span class="citation">(N. O’Hara, Shafer Consulting, Inc. <a href="#ref-tbep1017" role="doc-biblioref">2017</a>)</span> and <a href="https://drive.google.com/file/d/1Hp0l_qtbxp1JxKJoGatdyuANSzQrpL0I/view">Habitat Master Plan Update</a> <span class="citation">(Environmental Science Associates (D. Robison, T. Ries, J. Saarinen, D. Tomasko, and C. Sciarrino) <a href="#ref-tbep0720" role="doc-biblioref">2020</a>)</span>. Oyster reefs are formed by the cumulative build up of shell material over time and provide food and habitat, reduce erosion, stabilize shorelines, and improve water quality. Recreational and commercial harvest of oysters are also important activities that contribute to the value of Tampa Bay. The historical distribution of oyster populations in Tampa Bay is poorly documented, although anecdotal evidence suggests current coverage of oysters Tampa Bay is far less than previously observed. Establishment and restoration of oyster reefs have been fundamental activities to re-establish sustainable populations in the Bay.</p>
<p>Critical questions on factors that contribute to the successful establishment or restoration of oysters in Tampa Bay need to be answered to achieve our programmatic goals. Data have recently been collected to evaluate long-term success of natural and restored sites, including location in the Bay, seasonal timing of restoration activities, and preferred restoration materials under varying conditions. In addition, standardized monitoring protocols for restoration sites to evaluate or estimate long-term success are needed. This project involves establishing restoration sites at different locations and collecting field data to address relevant questions.</p>
<p>At the time of writing, field data have been collected for the first year of the project and is stored in multiple spreadsheets in an Excel workbook (figure <a href="cases.html#fig:oysexc">5.2</a>). The field data is a likely candidate for the most important data contribution of this project and a plan for curating these data has recently been developed. This plan is primarily focused on answering questions to identify which factors promote long-term success of oyster reefs, with the intent of formatting the data for analysis to answer these questions and delivering the data in a way to reproduce the results. Environmental managers (e.g., partners that conduct restoration) may have interest in the results (i.e., analysis outcomes), whereas outside researchers may have an interest in using the raw data to support follow-up analysis or to integrate the information with other datasets.</p>
<div class="figure" style="text-align: center"><span id="fig:oysexc"></span>
<img src="img/oysterexcel.PNG" alt="A screenshot of the raw oyster data from the first year of field work.  The data are close to tidy, but information is spread across tables with no easy way to link between them." width="100%" />
<p class="caption">
Figure 5.2: A screenshot of the raw oyster data from the first year of field work. The data are close to tidy, but information is spread across tables with no easy way to link between them.
</p>
</div>
<p>The current approach for managing these data has focused on adopting a tidy format for the existing information. Because field data collection has already begun, we developed a post-hoc workflow to wrangle the information into flat files with appropriate keys to link data between tables. Identifying a permanent home for these data and formal documentation of metadata have not been done, although tidying the data will aid analysis and facilitate documentation and delivery of final data products when the time is right (e.g., sooner rather than later). In this example, we focus on the steps to tidy the data.</p>
<p>Our tidying workflow for the first year of field data is available in a GitHub repository: <a href="https://github.com/tbep-tech/tberf-oyster" class="uri">https://github.com/tbep-tech/tberf-oyster</a>. The raw data are available in the <code>data/raw</code> folder and processing to make them “tidy” is accomplished through a custom analysis script at <code>R/dat_proc.R</code>. The analysis script converts the raw data present in multiple sheets in the Excel workbook to three separate tidy tables. We use functions from the tidyr and dplyr R packages as part of the tidyverse <span class="citation">(Wickham et al. <a href="#ref-Wickham19" role="doc-biblioref">2019</a>)</span> to format relevant information from the raw data to create the separate tidy tables. This process also involved discussion with project partners when ambiguous labels were observed in data or presented as conflicting information between tables.</p>
<p>The final “tidy” tables include three flat files for the site data (table <a href="cases.html#tab:tabsitdat">5.1</a>), water quality data at each site (table <a href="cases.html#tab:tabwqmdat">5.2</a>), and oyster data at each site (table <a href="cases.html#tab:taboysdat">5.3</a>).</p>
<table>
<caption><span id="tab:tabsitdat">Table 5.1: </span>First six rows of the site data.</caption>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">site</th>
<th align="left">type</th>
<th align="right">inst_year</th>
<th align="left">inst_seas</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2D_bg_18sp</td>
<td align="left">2D Island</td>
<td align="left">Bags</td>
<td align="right">2018</td>
<td align="left">Spring</td>
</tr>
<tr class="even">
<td align="left">2D_bg_16fa</td>
<td align="left">2D Island</td>
<td align="left">Bags</td>
<td align="right">2016</td>
<td align="left">Fall</td>
</tr>
<tr class="odd">
<td align="left">FI_bg_16fa</td>
<td align="left">Fantasy Island</td>
<td align="left">Bags</td>
<td align="right">2016</td>
<td align="left">Fall</td>
</tr>
<tr class="even">
<td align="left">FI_bg_08fa</td>
<td align="left">Fantasy Island</td>
<td align="left">Bags</td>
<td align="right">2008</td>
<td align="left">Fall</td>
</tr>
<tr class="odd">
<td align="left">FI_dm_16fa</td>
<td align="left">Fantasy Island</td>
<td align="left">Domes</td>
<td align="right">2016</td>
<td align="left">Fall</td>
</tr>
<tr class="even">
<td align="left">FI_sh_05fa</td>
<td align="left">Fantasy Island</td>
<td align="left">Shell</td>
<td align="right">2005</td>
<td align="left">Fall</td>
</tr>
</tbody>
</table>
<table>
<caption><span id="tab:tabwqmdat">Table 5.2: </span>First six rows ofthe water quality data.</caption>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">date</th>
<th align="right">do_perc</th>
<th align="right">do_mgl</th>
<th align="right">sal_psu</th>
<th align="right">temp_c</th>
<th align="right">ph</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2D_bg_16fa</td>
<td align="left">2019-11-18</td>
<td align="right">109.05</td>
<td align="right">8.290</td>
<td align="right">25.415</td>
<td align="right">21.65</td>
<td align="right">7.820</td>
</tr>
<tr class="even">
<td align="left">2D_bg_18sp</td>
<td align="left">2019-04-02</td>
<td align="right">76.45</td>
<td align="right">5.870</td>
<td align="right">23.235</td>
<td align="right">21.70</td>
<td align="right">7.815</td>
</tr>
<tr class="odd">
<td align="left">2D_bg_18sp</td>
<td align="left">2019-11-27</td>
<td align="right">93.10</td>
<td align="right">7.330</td>
<td align="right">24.970</td>
<td align="right">19.80</td>
<td align="right">7.865</td>
</tr>
<tr class="even">
<td align="left">FI_bg_08fa</td>
<td align="left">2019-10-01</td>
<td align="right">101.95</td>
<td align="right">6.985</td>
<td align="right">22.680</td>
<td align="right">28.25</td>
<td align="right">8.040</td>
</tr>
<tr class="odd">
<td align="left">FI_bg_16fa</td>
<td align="left">2019-03-06</td>
<td align="right">95.05</td>
<td align="right">7.525</td>
<td align="right">21.275</td>
<td align="right">20.60</td>
<td align="right">8.095</td>
</tr>
<tr class="even">
<td align="left">FI_dm_16fa</td>
<td align="left">2019-03-06</td>
<td align="right">95.05</td>
<td align="right">7.525</td>
<td align="right">21.275</td>
<td align="right">20.60</td>
<td align="right">8.095</td>
</tr>
</tbody>
</table>
<table>
<caption><span id="tab:taboysdat">Table 5.3: </span>First six rows of the oyster data.</caption>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">date</th>
<th align="right">plot</th>
<th align="right">shell_total</th>
<th align="right">live_per</th>
<th align="right">spat</th>
<th align="right">aveshell_mm</th>
<th align="right">maxshell_mm</th>
<th align="right">aveshell_cnt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2D_bg_16fa</td>
<td align="left">2019-11-18</td>
<td align="right">1</td>
<td align="right">75</td>
<td align="right">0.9066667</td>
<td align="right">0</td>
<td align="right">35.480</td>
<td align="right">54</td>
<td align="right">25</td>
</tr>
<tr class="even">
<td align="left">2D_bg_16fa</td>
<td align="left">2019-11-18</td>
<td align="right">2</td>
<td align="right">99</td>
<td align="right">0.9292929</td>
<td align="right">0</td>
<td align="right">38.000</td>
<td align="right">66</td>
<td align="right">25</td>
</tr>
<tr class="odd">
<td align="left">2D_bg_16fa</td>
<td align="left">2019-11-18</td>
<td align="right">3</td>
<td align="right">39</td>
<td align="right">0.7435897</td>
<td align="right">0</td>
<td align="right">42.960</td>
<td align="right">63</td>
<td align="right">25</td>
</tr>
<tr class="even">
<td align="left">2D_bg_16fa</td>
<td align="left">2019-11-18</td>
<td align="right">4</td>
<td align="right">181</td>
<td align="right">0.8121547</td>
<td align="right">20</td>
<td align="right">49.920</td>
<td align="right">72</td>
<td align="right">25</td>
</tr>
<tr class="odd">
<td align="left">2D_bg_16fa</td>
<td align="left">2019-11-18</td>
<td align="right">5</td>
<td align="right">77</td>
<td align="right">0.8311688</td>
<td align="right">0</td>
<td align="right">33.160</td>
<td align="right">55</td>
<td align="right">25</td>
</tr>
<tr class="even">
<td align="left">2D_bg_16fa</td>
<td align="left">2019-11-18</td>
<td align="right">6</td>
<td align="right">23</td>
<td align="right">0.6956522</td>
<td align="right">0</td>
<td align="right">37.375</td>
<td align="right">72</td>
<td align="right">16</td>
</tr>
</tbody>
</table>
<p>Each table is in a tidy format with 1) each variable having its own column, 2) each observation in its own cell, and 3) each value having its own cell. The only exception to these rules is the <code>id</code> column which is a combination of site name, restoration type (bags, domes, shell, etc.), installation year, and installation season. This column violates the third rule of tidy data by including multiple values (site name, type, etc.) in one cell. However, the creation of the <code>id</code> column was purposeful to achieve two goals. First, we wanted to create a unique identifier for each restoration site based on our analysis questions of how site location, type, and time of installation influenced restoration success. Each of of these characteristics can be used to evaluate the key research questions for the project. It would be more difficult to compare results between years, if for example, a key that only included site name (e.g., 2D Island only) was used. Thus, it was important to include all identifying characteristics in the <code>id</code> to facilitate the analysis. Second, we wanted the unique identifier to easily convey key information about each site. We could have used a random text string for each unique combination of site, type, installation year, and installation season, but it would be close to impossible to determine relevant details about each site without viewing table <a href="cases.html#tab:tabsitdat">5.1</a>.</p>
<p>The <code>id</code> keys also allow us to easily join tables for follow-up analysis. For example, we can easily join the oyster data and water quality data for downstream analysis using some R functions from the tidyverse:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="cases.html#cb2-1"></a>combdat &lt;-<span class="st"> </span><span class="kw">full_join</span>(oysdat, wqmdat, <span class="dt">by =</span> <span class="st">&#39;id&#39;</span>)</span>
<span id="cb2-2"><a href="cases.html#cb2-2"></a><span class="kw">head</span>(combdat)</span></code></pre></div>
<pre><code>#&gt; # A tibble: 6 x 15
#&gt;   id         date.x      plot shell_total live_per  spat aveshell_mm maxshell_mm
#&gt;   &lt;chr&gt;      &lt;date&gt;     &lt;dbl&gt;       &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;
#&gt; 1 2D_bg_16fa 2019-11-18     1          75    0.907     0        35.5          54
#&gt; 2 2D_bg_16fa 2019-11-18     2          99    0.929     0        38            66
#&gt; 3 2D_bg_16fa 2019-11-18     3          39    0.744     0        43.0          63
#&gt; 4 2D_bg_16fa 2019-11-18     4         181    0.812    20        49.9          72
#&gt; 5 2D_bg_16fa 2019-11-18     5          77    0.831     0        33.2          55
#&gt; 6 2D_bg_16fa 2019-11-18     6          23    0.696     0        37.4          72
#&gt; # … with 7 more variables: aveshell_cnt &lt;int&gt;, date.y &lt;date&gt;, do_perc &lt;dbl&gt;,
#&gt; #   do_mgl &lt;dbl&gt;, sal_psu &lt;dbl&gt;, temp_c &lt;dbl&gt;, ph &lt;dbl&gt;</code></pre>
<p>Storing the data in these three tidy tables reduces redundant information, organizes the data by general categories (e.g., oysters vs water quality), and facilitates follow-up analysis. The GitHub repository also includes an <a href="https://tbep-tech.github.io/tberf-oyster/figures.html">exploratory analysis</a> of these data created with RMarkdown <span class="citation">(Xie, Allaire, and Grolemund <a href="#ref-Xie18" role="doc-biblioref">2018</a>)</span> to combine code and text in an HTML format. This web page is also <a href="https://github.com/tbep-tech/tberf-oyster/actions">built automatically</a> with GitHub Actions each time the source document is updated (see section <a href="workflow.html#automation">4.1.3</a>).</p>
<p>In this example, its useful to understand reasons why raw data are often structured in an untidy format. Raw data from field or experimental observations are often setup for ease of entry, whereas tidy data are setup for ease of analysis. Entering data in the field in a tidy format or by hand from field sheets when you’re back in the office may seem unnatural. Conceptualizing core components of each dataset and the links between them that can facilitate downstream analyses can also be challenging at early stages of a research project. Data wrangling will always be a necessary component of data management, but working towards manual entry in as tidy a form as possible will reduce time on the backend when preparing the data for analysis or delivery at the end of a project.</p>
</div>
<div id="desoto" class="section level2">
<h2><span class="header-section-number">5.2</span> DeSoto/RESTORE project</h2>
<ul>
<li>Initial questions - how can we fulfill RESTORE requirements for data delivery based on a general grant requirement?</li>
<li>Example of continuous stream data</li>
<li>Emphasis on CI/CD checks and web products</li>
</ul>
</div>
<div id="twitter" class="section level2">
<h2><span class="header-section-number">5.3</span> Red Tide Twitter repo</h2>
<ul>
<li>Initial questions - What are the most relevant products from this project and how can we make them accessible?</li>
<li>Example of specific data product with linkage to technical and primary lit publication</li>
<li>Emphasis on creating a GitHub repo for archive of lexicon and source data, DOI</li>
</ul>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-tbep0720">
<p>Environmental Science Associates (D. Robison, T. Ries, J. Saarinen, D. Tomasko, and C. Sciarrino). 2020. “Tampa Bay Estuary Program: 2020 Habitat Master Plan Update.” 07-20. St. Petersburg, Florida: Tampa Bay Estuary Program. <a href="https://drive.google.com/file/d/1Hp0l_qtbxp1JxKJoGatdyuANSzQrpL0I/view?usp=drivesdk">https://drive.google.com/file/d/1Hp0l_qtbxp1JxKJoGatdyuANSzQrpL0I/view?usp=drivesdk</a>.</p>
</div>
<div id="ref-tbep1017">
<p>N. O’Hara, Shafer Consulting, Inc. 2017. “Charting the Course: The Comprehensive Conservation and Management Plan for Tampa Bay.” 10-17. St. Petersburg, Florida: Tampa Bay Estuary Program. <a href="https://drive.google.com/file/d/1HgnP5dC2LQqffc6Bq6klEuSUcNC2WRiZ/view?usp=drivesdk">https://drive.google.com/file/d/1HgnP5dC2LQqffc6Bq6klEuSUcNC2WRiZ/view?usp=drivesdk</a>.</p>
</div>
<div id="ref-Wickham19">
<p>Wickham, Hadley, Mara Averick, Jennifer Bryan, Winston Chang, Lucy D’Agostino McGowan, Romain François, Garrett Grolemund, et al. 2019. “Welcome to the tidyverse.” <em>Journal of Open Source Software</em> 4 (43): 1686. <a href="https://doi.org/10.21105/joss.01686">https://doi.org/10.21105/joss.01686</a>.</p>
</div>
<div id="ref-Xie18">
<p>Xie, Yihui, J. J. Allaire, and Garrett Grolemund. 2018. <em>R Markdown: The Definitive Guide</em>. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://bookdown.org/yihui/rmarkdown">https://bookdown.org/yihui/rmarkdown</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="workflow.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="final.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/tbep-tech/data-management-sop/edit/main/04-cases.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["data-management-sop.pdf", "data-management-sop.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
